version: 2.1

orbs: 
  aws-cli: circleci/aws-cli@2.0.3

jobs:
  s3Bucket:  # Choose any name, such as `build`
    # The primary container, where your job's commands will run
    docker:
      - image: amazon/aws-cli 
    steps:
      - checkout # check out the code in the project directory
      - run: 
          name: "Check bucket" # run the `echo` command
          command: aws s3 ls

# Sequential workflow
workflows:
  # Name the workflow
  workflow:
    jobs:
      - s3bucket

# # check for errors
# jobs:
#   my_job:
#     docker:
#       - image: circleci/node:13.8.0
#     steps:
#       - run: exit 1
#       - run:
#           name: on error
#           command: echo "Hello Error!"
#           when: on_fail

# workflows:
#   my_workflow:
#     jobs:
#       - my_job

#Upload and copy files
# steps:
#   - run:
#       name: Testing application
#       command: make test
#       shell: /bin/bash
#       working_directory: ~/my-app
#       no_output_timeout: 30m
#       environment:
#         FOO: bar

#   - run: echo 127.0.0.1 devhost | sudo tee -a /etc/hosts

#   - run: |
#       sudo -u root createuser -h localhost --superuser ubuntu &&
#       sudo createdb -h localhost test_db

#   - run:
#       name: Upload Failed Tests
#       command: curl --data fail_tests.log http://example.com/error_logs
#       when: on_fail

# To create reusable code
# version: 2.1

# commands:
#   print_pipeline_id:
#     steps:
#       - run: echo ${CIRCLE_WORKFLOW_ID}

# jobs:
#   my_job:
#     docker:
#       - image: circleci/node:13.8.0
#     steps:
#       - print_pipeline_id

# workflows:
#   my_workflow:
#     jobs:
#       - my_job
